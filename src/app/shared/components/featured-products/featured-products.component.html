<section class="featured-products-section section-padding">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Featured Collection</h2>
      <p class="section-subtitle">
        Discover our handpicked selection of premium comfort furniture
      </p>
    </div>

    <div class="featured-tabs">
      <mat-tab-group
        mat-align-tabs="center"
        animationDuration="500ms"
        class="neumorph-tabs"
        (selectedIndexChange)="onTabChange($event)"
      >
        <mat-tab label="All">
          <ng-template matTabContent>
            <div *ngIf="isLoading" class="loading-container">
              <div class="spinner-container">
                <div class="loading-spinner"></div>
              </div>
              <p>Loading products...</p>
            </div>
            
            <div *ngIf="!isLoading" class="products-grid">
              <div *ngFor="let product of featuredProducts" class="product-card-wrapper">
                <app-product-card 
                  [product]="product"
                  (quickViewClicked)="openQuickView($event)">
                </app-product-card>
              </div>
              
              <div *ngIf="!isLoading && featuredProducts.length === 0" class="empty-tab-message">
                <p>No featured products available at the moment.</p>
              </div>
            </div>
          </ng-template>
        </mat-tab>

        <mat-tab label="New Arrivals">
          <ng-template matTabContent>
            <div *ngIf="isLoading" class="loading-container">
              <div class="spinner-container">
                <div class="loading-spinner"></div>
              </div>
              <p>Loading products...</p>
            </div>
            
            <div *ngIf="!isLoading" class="products-grid">
              <div *ngFor="let product of newArrivals" class="product-card-wrapper">
                <app-product-card 
                  [product]="product"
                  (quickViewClicked)="openQuickView($event)">
                </app-product-card>
              </div>
              
              <div *ngIf="!isLoading && newArrivals.length === 0" class="empty-tab-message">
                <p>No new arrivals available at the moment.</p>
              </div>
            </div>
          </ng-template>
        </mat-tab>

        <mat-tab label="Best Sellers">
          <ng-template matTabContent>
            <div *ngIf="isLoading" class="loading-container">
              <div class="spinner-container">
                <div class="loading-spinner"></div>
              </div>
              <p>Loading products...</p>
            </div>
            
            <div *ngIf="!isLoading" class="products-grid">
              <div *ngFor="let product of bestSellers" class="product-card-wrapper">
                <app-product-card 
                  [product]="product"
                  (quickViewClicked)="openQuickView($event)">
                </app-product-card>
              </div>
              
              <div *ngIf="!isLoading && bestSellers.length === 0" class="empty-tab-message">
                <p>No best sellers available at the moment.</p>
              </div>
            </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </div>

    <div class="section-footer">
      <a routerLink="/products" class="neumorph-button view-all-btn">
        View All Collection
        <mat-icon>arrow_forward</mat-icon>
      </a>
    </div>
  </div>
</section>
