<div class="auth-page">
  <div class="container">
    <div class="auth-container">
      <div class="auth-card neumorph-card">
        <div class="auth-header">
          <h1 class="auth-title">Reset Password</h1>
          <p class="auth-subtitle">
            Enter your email to receive password reset instructions
          </p>
        </div>

        <!-- Show this form if not yet submitted -->
        <div *ngIf="!isSubmitted">
          <form
            [formGroup]="forgotPasswordForm"
            (ngSubmit)="onSubmit()"
            class="auth-form"
          >
            <div class="form-group">
              <mat-form-field appearance="outline" class="neumorph-input">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  formControlName="email"
                  type="email"
                  placeholder="your.email@example.com"
                />
                <mat-icon matPrefix>email</mat-icon>
                <mat-error
                  *ngIf="forgotPasswordForm.get('email')?.hasError('required')"
                >
                  Email is required
                </mat-error>
                <mat-error
                  *ngIf="forgotPasswordForm.get('email')?.hasError('email')"
                >
                  Please enter a valid email address
                </mat-error>
              </mat-form-field>
            </div>

            <div class="error-message" *ngIf="errorMessage">
              {{ errorMessage }}
            </div>

            <button
              type="submit"
              mat-raised-button
              color="primary"
              class="neumorph-button submit-btn"
              [disabled]="forgotPasswordForm.invalid || isSubmitting"
            >
              <mat-spinner
                *ngIf="isSubmitting"
                diameter="20"
                class="spinner"
              ></mat-spinner>
              <span *ngIf="!isSubmitting">Send Reset Instructions</span>
            </button>
          </form>
        </div>

        <!-- Show this message after form submission -->
        <div *ngIf="isSubmitted" class="success-message">
          <div class="success-icon">
            <mat-icon>mail</mat-icon>
          </div>
          <h2>Check Your Email</h2>
          <p>
            We've sent password reset instructions to the email provided. Please
            check your inbox and follow the instructions.
          </p>
          <p class="note">
            If you don't receive an email within a few minutes, please check
            your spam folder or try again with a different email address.
          </p>
          <div class="action-links">
            <a routerLink="/auth/login" class="neumorph-button"
              >Return to Login</a
            >
          </div>
        </div>

        <div class="auth-footer">
          <p>
            Remember your password?
            <a routerLink="/auth/login">Sign In</a>
          </p>
        </div>
      </div>

      <div class="auth-info neumorph-card">
        <div class="auth-info-content">
          <div class="logo">ComfortHaven</div>
          <h2>Password Recovery</h2>
          <p>Don't worry, it happens to the best of us.</p>
          <ul class="benefits-list">
            <li>
              <mat-icon>lock_reset</mat-icon>
              <span>Simple password reset process</span>
            </li>
            <li>
              <mat-icon>security</mat-icon>
              <span>Secure account verification</span>
            </li>
            <li>
              <mat-icon>help_outline</mat-icon>
              <span>Need more help? Contact our support team</span>
            </li>
          </ul>
          <div class="auth-image">
            <img src="/api/placeholder/400/300" alt="Comfortable living room" />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
