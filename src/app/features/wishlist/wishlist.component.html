<div class="wishlist-page">
  <div class="container">
    <div class="page-header">
      <h1 class="page-title">My Wishlist</h1>
      <div class="breadcrumb-nav">
        <a routerLink="/home">Home</a>
        <span> > </span>
        <span class="current">Wishlist</span>
      </div>
    </div>

    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner"></div>
      <p>Loading wishlist...</p>
    </div>

    <div
      *ngIf="!isLoading && wishlistItems.length === 0"
      class="empty-wishlist"
    >
      <div class="empty-wishlist-content neumorph-card">
        <div class="empty-wishlist-icon">
          <span>â™¡</span>
        </div>
        <h2>Your wishlist is empty</h2>
        <p>Items added to your wishlist will be saved here</p>
        <a routerLink="/products" class="neumorph-button primary"
          >Start Shopping</a
        >
      </div>
    </div>

    <div
      *ngIf="!isLoading && wishlistItems.length > 0"
      class="wishlist-content"
    >
      <div class="wishlist-header">
        <h3>Saved Items ({{ wishlistItems.length }})</h3>
        <button class="clear-wishlist-btn" (click)="clearWishlist()">
          <span>ðŸ—‘</span>
          Clear All
        </button>
      </div>

      <div class="wishlist-grid">
        <div
          *ngFor="let item of wishlistItems"
          class="wishlist-item neumorph-card"
        >
          <div class="item-image">
            <img
              [src]="item.imageUrl || '/api/placeholder/300/300'"
              [alt]="item.name"
            />
            <div
              *ngIf="item.badge"
              class="item-badge"
              [ngClass]="item.badgeType"
            >
              {{ item.badge }}
            </div>
          </div>

          <div class="item-content">
            <h3 class="item-title">
              <a [routerLink]="['/product', item.id]">{{ item.name }}</a>
            </h3>

            <div class="item-rating">
              <div class="stars">
                <ng-container *ngFor="let i of [1, 2, 3, 4, 5]">
                  <span *ngIf="i <= item.rating">â˜…</span>
                  <span *ngIf="i > item.rating && i - 1 < item.rating">â˜…</span>
                  <span *ngIf="i > item.rating && i - 1 >= item.rating">â˜†</span>
                </ng-container>
              </div>
              <span class="rating-count" *ngIf="item.reviewCount"
                >({{ item.reviewCount }})</span
              >
            </div>

            <p class="item-price">
              <span class="old-price" *ngIf="item.oldPrice"
                >${{ item.oldPrice.toFixed(2) }}</span
              >
              ${{ item.price.toFixed(2) }}
            </p>

            <p
              class="availability"
              [ngClass]="{
                'in-stock': item.inStock,
                'out-of-stock': !item.inStock,
              }"
            >
              <span *ngIf="item.inStock">âœ“</span>
              <span *ngIf="!item.inStock">âœ—</span>
              {{ item.inStock ? "In Stock" : "Out of Stock" }}
            </p>

            <div class="item-actions">
              <button
                class="neumorph-button add-to-cart-btn"
                [disabled]="!item.inStock"
                (click)="addToCart(item)"
              >
                ðŸ›’ Add to Cart
              </button>
              <button
                class="remove-btn"
                (click)="removeFromWishlist(item.id)"
              >
                ðŸ—‘
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
